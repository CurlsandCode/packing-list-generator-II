  <%= form_for @trip do |f| %>
    <%= render 'form', f: f %>
    <br></br>
    <%= render 'categories/add_categories', f: f %>
    <br></br>
  <%= f.submit %>
<% end %>

<br></br>

<% if @trip.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@trip.errors.count, "error") %> prohibited this article from being saved:</h2>
    <ul>
    <% @trip.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<div id="tripResults">
  <h2 id="tripTitle"></h2>
  <p id="tripDestination"></p>
  <p id="tripYear"></p>
  <p id="tripNotes"></p>
</div>

<script type="text/javascript" charset="utf-8">
  $(function () {
    $('form').submit(function(event) {

      event.preventDefault();

      var values = $(this).serialize();

      var posting = $.post('/trips', values);

      posting.done(function(data) {
        var trip = data;
        $("#tripTitle").text(trip["title"]);
        $("#tripDestination").text(trip["destination"]);
        $("#tripYear").text(trip["year"]);
        $("#tripNotes").text(trip["notes"]);
      });
    });
  });
</script>
